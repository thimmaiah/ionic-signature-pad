{"version":3,"file":"ionicsignaturepad.component.js","sourceRoot":"","sources":["../../src/components/ionicsignaturepad.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component,Input, OnInit,ViewChild } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {SignaturePad} from 'angular2-signaturepad/signature-pad';\n\nconst HTML_TEMPLATE = `\n<ion-row>\n<ion-col style=\"text-align:right;\" class=\"no-padding\">\n<ion-button fill=\"clear\" (click)=\"drawClear()\" style=\"--padding-top: 0; --padding-bottom: 0; --padding-start: 0; --padding-end: 0; --margin-top: 4px; --margin-bottom: 0; --margin-start: 0; --margin-end: 8px;\"><ion-icon slot=\"icon-only\" name=\"close\" color=\"dark\"></ion-icon></ion-button>\n</ion-col>\n</ion-row>\n<signature-pad [options]=\"signaturePadOptions\" id=\"signatureCanvas\" (onBeginEvent)=\"drawStart()\" (onEndEvent)=\"drawComplete()\"></signature-pad>`;\n\n@Component({\n\tselector: 'ion-signaturepad',\n\ttemplate: HTML_TEMPLATE,\n\tproviders: [{\n\t\tprovide: NG_VALUE_ACCESSOR,\n\t\tuseExisting: IonicsignaturepadComponent,\n\t\tmulti: true\n\t}]\n})\nexport class IonicsignaturepadComponent implements OnInit,ControlValueAccessor {\n\n\t@ViewChild(SignaturePad) public signaturePad : SignaturePad;\n\n\tpublic signaturePadOptions : any = {};\n\tpublic signatureImage : string;\n\n\tconstructor() {\n\t\tthis.signaturePadOptions = {\n\t\t\tminWidth: 2,\n\t\t\tcanvasWidth: 800,\n\t\t\tcanvasHeight: 240,\n\t\t\tbackgroundColor:'rgb(255,255,255)'\n\t\t}\n\t}\n\n\tngOnInit() {\n\t}\n\n\tprivate onTouch: Function = () => {};\n\tprivate disabled: boolean = false;\n\n\tonChange(data) {\n\t\t\n\t}\n\n\t@Input() set canvasWidth(data: number) {\n\t\tthis.signaturePadOptions.canvasWidth = data;\n\t}\n\n\t@Input() set canvasHeight(data: number) {\n\t\tthis.signaturePadOptions.canvasHeight = data;\n\t}\n\n\t@Input() set backgroundColor(data: string) {\n\t\tthis.signaturePadOptions.backgroundColor = data;\n\t}\n\n\t// Allow Angular to set the value on the component\n\twriteValue(value): void {\n\t\tthis.onChange(value)\n\t\t\n\t}\n\n\t// Save a reference to the change function passed to us by \n\t// the Angular form control\n\tregisterOnChange(fn): void {\n\t\tthis.onChange = fn;\n\t\t\n\t}\n\n\t// Save a reference to the touched function passed to us by \n\t// the Angular form control\n\tregisterOnTouched(fn): void {\n\t\tthis.onTouch = fn;\n\t\t\n\t}\n\n\t// Allow the Angular form control to disable this input\n\tsetDisabledState(disabled: boolean): void {\n\t\tthis.disabled = disabled;\n\t\t\n\t}\n\n\tcanvasResize() {\n\t\tlet canvas = document.querySelector('canvas');\n\t\tthis.signaturePad.set('minWidth', 1);\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.signaturePad.clear();\n\t\tthis.canvasResize();\n\t}\n\n\tdrawStart(){\n\n\t}\n\n\tdrawComplete() {\n\t\tthis.signatureImage = this.signaturePad.toDataURL('image/jpeg', 0.5);\n\t\tthis.writeValue(this.signatureImage);\n\t}\n\n\tdrawClear() {\n\t\tthis.signaturePad.clear();\n\t\tthis.signatureImage = null;\n\t\tthis.writeValue(this.signatureImage);\n\t}\n}\n"]}